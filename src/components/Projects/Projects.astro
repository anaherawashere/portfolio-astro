---
import SectionHeading from "../SectionHeading.astro";
import SectionSubheading from "../SectionSubheading.astro";
import ButtonCta from "../utils/Buttons/Button_Cta.astro";
import CardProject from "../utils/Cards/Card_Project.astro";

const allProjects = await Astro.glob("../../content/projects/*.md");
---

<section id="projects" aria-label="Selected projects">
  <SectionHeading>Projects</SectionHeading>
  <SectionSubheading
    >Here are some of my recent projects. I'm always working on something new,
    so check back often!</SectionSubheading
  >
  <ul class="flex flex-col gap-y-3">
    {
      allProjects.map(
        (project) =>
          project.frontmatter.selected && (
            <CardProject
              title={project.frontmatter.title}
              description={project.frontmatter.description}
              image={project.frontmatter.image}
              href={project.frontmatter.href}
              tech={project.frontmatter.tech}
            />
          ),
      )
    }
  </ul><ButtonCta title="View Full Project Archive" href="/archive" />
</section>
